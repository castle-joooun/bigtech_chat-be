# BigTech Chat Backend - ì‹ ì… ê°œë°œì ì˜¨ë³´ë”© ê°€ì´ë“œ

> **ëŒ€ìƒ**: Python/FastAPIë¥¼ ì•Œê³  ìˆëŠ” ì‹ ì… ê°œë°œì
> **ëª©í‘œ**: MSA ì•„í‚¤í…ì²˜ë¥¼ ë‹¨ê³„ë³„ë¡œ í•™ìŠµí•˜ê³ , Spring Boot ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤€ë¹„
> **í•™ìŠµ ê¸°ê°„**: ì•½ 7ì£¼ (49ì¼)
> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-01-27

---

## ëª©ì°¨

- [Part 1: ì‹œì‘í•˜ê¸°](#part-1-ì‹œì‘í•˜ê¸°-day-1-3)
- [Part 2: FastAPI ì½”ë“œ ì´í•´í•˜ê¸°](#part-2-fastapi-ì½”ë“œ-ì´í•´í•˜ê¸°-day-4-7)
- [Part 3: MSA ì•„í‚¤í…ì²˜](#part-3-msa-ì•„í‚¤í…ì²˜-day-8-14)
- [Part 4: Kafka Event Streaming](#part-4-kafka-event-streaming-day-15-21)
- [Part 5: Docker & Kubernetes](#part-5-docker--kubernetes-day-22-28)
- [Part 6: Observability (ëª¨ë‹ˆí„°ë§)](#part-6-observability-ëª¨ë‹ˆí„°ë§-day-29-35)
- [Part 7: í…ŒìŠ¤íŠ¸ ë° CI/CD](#part-7-í…ŒìŠ¤íŠ¸-ë°-cicd-day-36-42)
- [Part 8: Spring Boot ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤€ë¹„](#part-8-spring-boot-ë§ˆì´ê·¸ë ˆì´ì…˜-ì¤€ë¹„-day-43-49)
- [Part 9: ì‹¤ìŠµ ê³¼ì œ ë° ë¶€ë¡](#part-9-ì‹¤ìŠµ-ê³¼ì œ-ë°-ë¶€ë¡)

---

# Part 1: ì‹œì‘í•˜ê¸° (Day 1-3)

## 1.1 í”„ë¡œì íŠ¸ ì†Œê°œ

### ì´ í”„ë¡œì íŠ¸ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

**BigTech Chat**ì€ ì¹´ì¹´ì˜¤í†¡, ë¼ì¸ ê°™ì€ **ì‹¤ì‹œê°„ ì±„íŒ… ì„œë¹„ìŠ¤**ì˜ ë°±ì—”ë“œì…ë‹ˆë‹¤.

```
ì‚¬ìš©ìê°€ í•  ìˆ˜ ìˆëŠ” ê²ƒ:
â”œâ”€â”€ íšŒì›ê°€ì… / ë¡œê·¸ì¸
â”œâ”€â”€ ì¹œêµ¬ ì¶”ê°€ / ì¹œêµ¬ ëª©ë¡ ë³´ê¸°
â”œâ”€â”€ 1:1 ì±„íŒ…ë°© ë§Œë“¤ê¸°
â”œâ”€â”€ ë©”ì‹œì§€ ë³´ë‚´ê¸° / ë°›ê¸° (ì‹¤ì‹œê°„)
â””â”€â”€ ì˜¨ë¼ì¸ ìƒíƒœ í™•ì¸
```

### ì™œ ì´ í”„ë¡œì íŠ¸ë¥¼ ê³µë¶€í•´ì•¼ í•˜ë‚˜ìš”?

ì´ í”„ë¡œì íŠ¸ëŠ” **ëŒ€ê¸°ì—… ë©´ì ‘ì—ì„œ ìì£¼ ë¬»ëŠ” ê¸°ìˆ ë“¤**ì„ ì‹¤ì œë¡œ êµ¬í˜„í•´ë†“ì•˜ìŠµë‹ˆë‹¤:

| ë©´ì ‘ ì§ˆë¬¸ | ì´ í”„ë¡œì íŠ¸ì—ì„œ ë°°ìš¸ ìˆ˜ ìˆëŠ” ê²ƒ |
|-----------|-------------------------------|
| "MSA ê²½í—˜ ìˆìœ¼ì„¸ìš”?" | 3ê°œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¶„ë¦¬ ê²½í—˜ |
| "Kafka ì¨ë³´ì…¨ë‚˜ìš”?" | ì´ë²¤íŠ¸ ê¸°ë°˜ ì„œë¹„ìŠ¤ ê°„ í†µì‹  |
| "DDD ì•Œê³  ê³„ì„¸ìš”?" | Bounded Context, Aggregate ì„¤ê³„ |
| "K8s ë°°í¬ í•´ë³´ì…¨ë‚˜ìš”?" | Deployment, HPA, Ingress ì„¤ì • |
| "ëª¨ë‹ˆí„°ë§ì€ ì–´ë–»ê²Œ?" | Prometheus + Grafana ëŒ€ì‹œë³´ë“œ |

### ê¸°ìˆ  ìŠ¤íƒ: ìµìˆ™í•œ ê²ƒ vs ìƒˆë¡œ ë°°ìš¸ ê²ƒ

**ì´ë¯¸ ì•Œê³  ìˆì„ ê²ƒ** (Python/FastAPI ê°œë°œì ê¸°ì¤€):
- âœ… Python 3.11
- âœ… FastAPI (async/await)
- âœ… Pydantic (ë°ì´í„° ê²€ì¦)
- âœ… SQLAlchemy (MySQL ORM)

**ìƒˆë¡œ ë°°ìš¸ ê²ƒ**:
- ğŸ†• MongoDB + Beanie (ë¬¸ì„œí˜• DB)
- ğŸ†• Redis (ìºì‹œ, ì˜¨ë¼ì¸ ìƒíƒœ)
- ğŸ†• Kafka (ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°)
- ğŸ†• Docker + Kubernetes
- ğŸ†• Prometheus + Grafana (ëª¨ë‹ˆí„°ë§)

### í”„ë¡œì íŠ¸ ë¡œë“œë§µ

```
í˜„ì¬ ìœ„ì¹˜                                    ë‹¤ìŒ ë‹¨ê³„
    â†“                                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Monolithic  â†’  DDD  â†’  MSA (FastAPI)  â†’  Spring Boot      â”‚
â”‚     ì™„ë£Œ        ì™„ë£Œ       â˜… í˜„ì¬            ë‹¤ìŒ ëª©í‘œ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1.2 ì„œë¹„ìŠ¤ êµ¬ì¡° í•œëˆˆì— ë³´ê¸°

### 3ê°œì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API Gateway       â”‚
                    â”‚   (Kong - Port 80)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
        â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Service  â”‚    â”‚ Chat Service  â”‚    â”‚Friend Service â”‚
â”‚  (Port 8005)  â”‚    â”‚  (Port 8002)  â”‚    â”‚  (Port 8003)  â”‚
â”‚               â”‚    â”‚               â”‚    â”‚               â”‚
â”‚ â€¢ íšŒì›ê°€ì…     â”‚    â”‚ â€¢ ì±„íŒ…ë°© ìƒì„±  â”‚    â”‚ â€¢ ì¹œêµ¬ ìš”ì²­    â”‚
â”‚ â€¢ ë¡œê·¸ì¸      â”‚    â”‚ â€¢ ë©”ì‹œì§€ ì „ì†¡  â”‚    â”‚ â€¢ ì¹œêµ¬ ìˆ˜ë½    â”‚
â”‚ â€¢ í”„ë¡œí•„ ê´€ë¦¬  â”‚    â”‚ â€¢ ì‹¤ì‹œê°„ SSE  â”‚    â”‚ â€¢ ì¹œêµ¬ ëª©ë¡    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Kafka (3 brokers) â”‚
                    â”‚   ì´ë²¤íŠ¸ ë²„ìŠ¤        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ë°ì´í„° ì €ì¥ì†Œ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     MySQL       â”‚    MongoDB      â”‚        Redis            â”‚
â”‚   (ê´€ê³„í˜• DB)    â”‚   (ë¬¸ì„œí˜• DB)    â”‚       (ìºì‹œ)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ ì‚¬ìš©ì ì •ë³´    â”‚ â€¢ ì±„íŒ… ë©”ì‹œì§€    â”‚ â€¢ ì˜¨ë¼ì¸ ìƒíƒœ           â”‚
â”‚ â€¢ ì¹œêµ¬ ê´€ê³„     â”‚ â€¢ ì½ìŒ ìƒíƒœ      â”‚ â€¢ ì„¸ì…˜ ì •ë³´             â”‚
â”‚ â€¢ ì±„íŒ…ë°© ì •ë³´    â”‚ â€¢ ë©”ì‹œì§€ ë°˜ì‘    â”‚ â€¢ API ìºì‹œ              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ ì™œ DBë¥¼ 3ê°œë‚˜ ì“¸ê¹Œìš”?
   - MySQL: ì‚¬ìš©ì/ì¹œêµ¬ì²˜ëŸ¼ "ê´€ê³„"ê°€ ì¤‘ìš”í•œ ë°ì´í„°
   - MongoDB: ë©”ì‹œì§€ì²˜ëŸ¼ "ëŒ€ëŸ‰ìœ¼ë¡œ ë¹ ë¥´ê²Œ ìŒ“ì´ëŠ”" ë°ì´í„°
   - Redis: ì˜¨ë¼ì¸ ìƒíƒœì²˜ëŸ¼ "ìì£¼ ë°”ë€Œê³  ë¹¨ë¦¬ ì½ì–´ì•¼ í•˜ëŠ”" ë°ì´í„°
```

---

## 1.3 ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ ì„¤ì¹˜ ë„êµ¬

```bash
# 1. Docker Desktop (í•„ìˆ˜)
# https://www.docker.com/products/docker-desktop ì—ì„œ ë‹¤ìš´ë¡œë“œ

# ì„¤ì¹˜ í™•ì¸
docker --version    # Docker version 24.0.0 ì´ìƒ
docker-compose --version  # Docker Compose version v2.0.0 ì´ìƒ

# 2. Python 3.11+ (ì´ë¯¸ ìˆì„ ê²ƒ)
python --version    # Python 3.11.x

# 3. kubectl (Kubernetes ë°°í¬ ì‹œ í•„ìš”, ë‚˜ì¤‘ì— ì„¤ì¹˜í•´ë„ ë¨)
# https://kubernetes.io/docs/tasks/tools/
```

### í”„ë¡œì íŠ¸ í´ë¡  ë° í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd bigtech_chat-be

# ê°€ìƒí™˜ê²½ í™œì„±í™” (ì´ë¯¸ ìˆë‹¤ë©´)
source .venv/bin/activate

# ë˜ëŠ” ìƒˆë¡œ ìƒì„±
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

### ì „ì²´ ìŠ¤íƒ ì‹¤í–‰ (ê°€ì¥ ì‰¬ìš´ ë°©ë²•)

```bash
# 1. ì „ì²´ MSA ìŠ¤íƒ ì‹¤í–‰ (ì„œë¹„ìŠ¤ + DB + Kafka + ëª¨ë‹ˆí„°ë§)
docker-compose -f docker-compose.msa.yml up -d

# 2. Kong Gateway ë¼ìš°íŒ… ì„¤ì •
./infrastructure/docker/kong/kong-config.sh

# 3. ì‹¤í–‰ í™•ì¸ (ì•½ 30ì´ˆ ëŒ€ê¸° í›„)
docker-compose -f docker-compose.msa.yml ps
```

### ì„œë¹„ìŠ¤ ì ‘ì† í™•ì¸

| ì„œë¹„ìŠ¤ | URL | ì„¤ëª… |
|--------|-----|------|
| **API Gateway** | http://localhost | ëª¨ë“  APIì˜ ì§„ì…ì  |
| **User Service** | http://localhost:8005/docs | Swagger UI |
| **Friend Service** | http://localhost:8003/docs | Swagger UI |
| **Chat Service** | http://localhost:8002/docs | Swagger UI |
| **Grafana** | http://localhost:3000 | ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ (admin/admin) |
| **Prometheus** | http://localhost:9090 | ë©”íŠ¸ë¦­ ì¡°íšŒ |
| **Kafka UI** | http://localhost:8080 | Kafka í† í”½/ë©”ì‹œì§€ í™•ì¸ |

### ì²« ë²ˆì§¸ API í…ŒìŠ¤íŠ¸

```bash
# 1. Health Check
curl http://localhost:8005/health
# ì‘ë‹µ: {"status":"healthy","service":"User Service"}

# 2. íšŒì›ê°€ì…
curl -X POST http://localhost:8005/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "username": "testuser",
    "password": "Test1234!@",
    "display_name": "í…ŒìŠ¤íŠ¸ ìœ ì €"
  }'

# 3. ë¡œê·¸ì¸
curl -X POST http://localhost:8005/auth/login/json \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "Test1234!@"
  }'
# ì‘ë‹µ: {"access_token": "eyJ0eXAi...", "token_type": "bearer"}
```

### íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

**ë¬¸ì œ: í¬íŠ¸ ì¶©ëŒ (Port already in use)**
```bash
# ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
lsof -i :3306    # MySQL
lsof -i :8005    # User Service

# í•´ê²°: ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ë˜ëŠ” Docker ì»¨í…Œì´ë„ˆ ì •ë¦¬
docker-compose -f docker-compose.msa.yml down
```

**ë¬¸ì œ: ì„œë¹„ìŠ¤ê°€ ì‹œì‘ë˜ì§€ ì•ŠìŒ**
```bash
# ë¡œê·¸ í™•ì¸
docker logs bigtech-user-service
docker logs bigtech-chat-service

# ì „ì²´ ì¬ì‹œì‘
docker-compose -f docker-compose.msa.yml down
docker-compose -f docker-compose.msa.yml up -d
```

> ğŸ“š **ë” ìì„¸í•œ ë‚´ìš©**: [ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ](./QUICK_START.md)

---

## 1.4 ë””ë ‰í† ë¦¬ êµ¬ì¡° ì´í•´í•˜ê¸°

```
bigtech_chat-be/
â”‚
â”œâ”€â”€ services/                    # ğŸ”¥ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (ê°€ì¥ ì¤‘ìš”!)
â”‚   â”œâ”€â”€ user-service/           # ì‚¬ìš©ì ì¸ì¦/í”„ë¡œí•„
â”‚   â”œâ”€â”€ friend-service/         # ì¹œêµ¬ ê´€ê³„ ê´€ë¦¬
â”‚   â””â”€â”€ chat-service/           # ì±„íŒ…/ë©”ì‹œì§€
â”‚
â”œâ”€â”€ infrastructure/              # ì¸í”„ë¼ ì„¤ì •
â”‚   â””â”€â”€ docker/
â”‚       â”œâ”€â”€ kong/               # API Gateway ì„¤ì •
â”‚       â”œâ”€â”€ prometheus/         # ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì„¤ì •
â”‚       â”œâ”€â”€ grafana/            # ëŒ€ì‹œë³´ë“œ ì„¤ì •
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ k8s/                        # Kubernetes ë°°í¬ íŒŒì¼
â”‚   â””â”€â”€ manifests/
â”‚       â”œâ”€â”€ services/           # ì„œë¹„ìŠ¤ Deployment
â”‚       â”œâ”€â”€ statefulsets/       # DB StatefulSet
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ tests/                      # í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ e2e/                    # End-to-End í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ docs/                       # ğŸ“š ë¬¸ì„œ (ì§€ê¸ˆ ì½ê³  ìˆëŠ” ê²ƒ!)
â”‚   â”œâ”€â”€ architecture/           # DDD ì•„í‚¤í…ì²˜ ë¬¸ì„œ
â”‚   â”œâ”€â”€ kafka/                  # Kafka ì„¤ê³„ ë¬¸ì„œ
â”‚   â”œâ”€â”€ observability/          # ëª¨ë‹ˆí„°ë§ ë¬¸ì„œ
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docker-compose.msa.yml      # ì „ì²´ ìŠ¤íƒ ì‹¤í–‰ìš©
â”œâ”€â”€ docker-compose.test.yml     # í…ŒìŠ¤íŠ¸ í™˜ê²½ìš©
â””â”€â”€ README.md                   # í”„ë¡œì íŠ¸ ì†Œê°œ
```

### ê° ì„œë¹„ìŠ¤ ë‚´ë¶€ êµ¬ì¡° (ê³µí†µ íŒ¨í„´)

```
services/user-service/
â”‚
â”œâ”€â”€ main.py                     # ì•± ì§„ì…ì  (FastAPI ì•± ìƒì„±)
â”œâ”€â”€ requirements.txt            # Python ì˜ì¡´ì„±
â”œâ”€â”€ Dockerfile                  # Docker ì´ë¯¸ì§€ ë¹Œë“œ
â”‚
â””â”€â”€ app/
    â”œâ”€â”€ api/                    # ğŸŒ API ì—”ë“œí¬ì¸íŠ¸
    â”‚   â”œâ”€â”€ auth.py            # /auth/register, /auth/login
    â”‚   â”œâ”€â”€ profile.py         # /profile/me
    â”‚   â””â”€â”€ user.py            # /users/search
    â”‚
    â”œâ”€â”€ services/               # ğŸ’¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    â”‚   â”œâ”€â”€ auth_service.py    # ì¸ì¦ ë¡œì§
    â”‚   â””â”€â”€ ...
    â”‚
    â”œâ”€â”€ models/                 # ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
    â”‚   â””â”€â”€ user.py            # User í…Œì´ë¸”
    â”‚
    â”œâ”€â”€ schemas/                # ğŸ“‹ Pydantic ìŠ¤í‚¤ë§ˆ
    â”‚   â””â”€â”€ user.py            # UserCreate, UserResponse
    â”‚
    â”œâ”€â”€ database/               # ğŸ”Œ DB ì—°ê²°
    â”‚   â”œâ”€â”€ mysql.py           # MySQL ì—°ê²°
    â”‚   â””â”€â”€ redis.py           # Redis ì—°ê²°
    â”‚
    â”œâ”€â”€ kafka/                  # ğŸ“¨ Kafka ì´ë²¤íŠ¸
    â”‚   â”œâ”€â”€ producer.py        # ì´ë²¤íŠ¸ ë°œí–‰
    â”‚   â””â”€â”€ events.py          # ì´ë²¤íŠ¸ ì •ì˜
    â”‚
    â”œâ”€â”€ core/                   # âš™ï¸ ì„¤ì •
    â”‚   â”œâ”€â”€ config.py          # í™˜ê²½ ë³€ìˆ˜
    â”‚   â””â”€â”€ errors.py          # ì˜ˆì™¸ ì •ì˜
    â”‚
    â””â”€â”€ utils/                  # ğŸ”§ ìœ í‹¸ë¦¬í‹°
        â””â”€â”€ auth.py            # JWT, ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
```

---

## 1.5 Part 1 í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Docker Desktop ì„¤ì¹˜ ë° ì‹¤í–‰ í™•ì¸
- [ ] `docker-compose.msa.yml`ë¡œ ì „ì²´ ìŠ¤íƒ ì‹¤í–‰
- [ ] 3ê°œ ì„œë¹„ìŠ¤ Swagger UI ì ‘ì† í™•ì¸
- [ ] íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸ API í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] Grafana ëŒ€ì‹œë³´ë“œ ì ‘ì† í™•ì¸ (http://localhost:3000)
- [ ] ë””ë ‰í† ë¦¬ êµ¬ì¡° íŒŒì•… ì™„ë£Œ

> **Spring Bootì—ì„œëŠ”?**
> - FastAPIì˜ `main.py`ëŠ” Spring Bootì˜ `@SpringBootApplication` í´ë˜ìŠ¤ì— í•´ë‹¹
> - `app/api/`ëŠ” Springì˜ `@RestController` í´ë˜ìŠ¤ë“¤ì— í•´ë‹¹
> - `app/services/`ëŠ” Springì˜ `@Service` í´ë˜ìŠ¤ë“¤ì— í•´ë‹¹
> - ì´ êµ¬ì¡°ëŠ” Spring Bootì—ì„œë„ ê±°ì˜ ë™ì¼í•˜ê²Œ ì ìš©ë©ë‹ˆë‹¤!

---

# Part 2: FastAPI ì½”ë“œ ì´í•´í•˜ê¸° (Day 4-7)

## 2.1 FastAPI í•µì‹¬ íŒ¨í„´ ë³µìŠµ

### async/await ë¹„ë™ê¸° ì²˜ë¦¬

```python
# âŒ ë™ê¸° ë°©ì‹ (ëŠë¦¼ - ìš”ì²­ í•˜ë‚˜ì”© ìˆœì°¨ ì²˜ë¦¬)
def get_user(user_id: int):
    user = db.query(User).filter(User.id == user_id).first()
    return user

# âœ… ë¹„ë™ê¸° ë°©ì‹ (ë¹ ë¦„ - I/O ëŒ€ê¸° ì¤‘ ë‹¤ë¥¸ ìš”ì²­ ì²˜ë¦¬)
async def get_user(user_id: int):
    result = await db.execute(select(User).where(User.id == user_id))
    return result.scalar_one_or_none()
```

**ì™œ ë¹„ë™ê¸°ê°€ ì¤‘ìš”í•œê°€ìš”?**
```
ë™ê¸° ë°©ì‹:
  ìš”ì²­1 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ (DB ëŒ€ê¸°)
  ìš”ì²­2          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ (ì• ìš”ì²­ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°)
  ìš”ì²­3                   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘

ë¹„ë™ê¸° ë°©ì‹:
  ìš”ì²­1 â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ (DB ëŒ€ê¸° ì¤‘ ë‹¤ë¥¸ ìš”ì²­ ì²˜ë¦¬)
  ìš”ì²­2   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ
  ìš”ì²­3     â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ
  â†’ ê°™ì€ ì‹œê°„ì— ë” ë§ì€ ìš”ì²­ ì²˜ë¦¬ ê°€ëŠ¥!
```

### Pydanticì„ í™œìš©í•œ ë°ì´í„° ê²€ì¦

```python
# services/user-service/app/schemas/user.py

from pydantic import BaseModel, EmailStr, Field

class UserCreate(BaseModel):
    """íšŒì›ê°€ì… ìš”ì²­ ë°ì´í„°"""
    email: EmailStr                           # ì´ë©”ì¼ í˜•ì‹ ìë™ ê²€ì¦
    username: str = Field(min_length=3, max_length=20)  # ê¸¸ì´ ì œí•œ
    password: str = Field(min_length=8)       # ìµœì†Œ 8ì
    display_name: str | None = None           # ì„ íƒ í•„ë“œ

class UserResponse(BaseModel):
    """ì‘ë‹µ ë°ì´í„° (ë¹„ë°€ë²ˆí˜¸ ì œì™¸)"""
    id: int
    email: str
    username: str
    display_name: str | None

    class Config:
        from_attributes = True  # SQLAlchemy ëª¨ë¸ â†’ Pydantic ë³€í™˜ í—ˆìš©
```

**Pydanticì´ ìë™ìœ¼ë¡œ í•´ì£¼ëŠ” ê²ƒ:**
- íƒ€ì… ê²€ì‚¬ (strì— int ë“¤ì–´ì˜¤ë©´ ì—ëŸ¬)
- í˜•ì‹ ê²€ì‚¬ (EmailStrì€ ì´ë©”ì¼ í˜•ì‹ë§Œ í—ˆìš©)
- ê¸¸ì´ ê²€ì‚¬ (min_length, max_length)
- ìë™ ë¬¸ì„œí™” (Swagger UIì— í‘œì‹œ)

### Depends()ë¥¼ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…

```python
# services/user-service/app/api/auth.py

from fastapi import Depends, APIRouter
from sqlalchemy.ext.asyncio import AsyncSession
from app.database.mysql import get_async_session
from app.utils.auth import get_current_user

router = APIRouter()

@router.get("/profile/me")
async def get_my_profile(
    current_user: User = Depends(get_current_user),  # JWT ê²€ì¦ + ìœ ì € ì¡°íšŒ
    db: AsyncSession = Depends(get_async_session)    # DB ì„¸ì…˜ ì£¼ì…
):
    return current_user
```

**Depends()ì˜ ì¥ì :**
```python
# 1. ì½”ë“œ ì¬ì‚¬ìš©: get_current_userë¥¼ ì—¬ëŸ¬ APIì—ì„œ ì‚¬ìš©
@router.get("/profile/me")
async def get_profile(current_user = Depends(get_current_user)): ...

@router.put("/profile/me")
async def update_profile(current_user = Depends(get_current_user)): ...

@router.get("/friends")
async def get_friends(current_user = Depends(get_current_user)): ...

# 2. í…ŒìŠ¤íŠ¸ ìš©ì´: ê°€ì§œ ê°ì²´ë¡œ ì‰½ê²Œ êµì²´ ê°€ëŠ¥
def test_get_profile():
    app.dependency_overrides[get_current_user] = lambda: fake_user
```

---

## 2.2 ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ì½”ë“œ ë¶„ì„

### MySQL + SQLAlchemy (ê´€ê³„í˜• ë°ì´í„°)

```python
# services/user-service/app/database/mysql.py

from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession
from sqlalchemy.orm import sessionmaker

# 1. ì—”ì§„ ìƒì„± (DB ì—°ê²° í’€)
engine = create_async_engine(
    settings.mysql_url,  # mysql+aiomysql://user:pass@host:3306/db
    pool_size=10,        # ë™ì‹œ ì—°ê²° ìˆ˜
    max_overflow=20      # ì¶”ê°€ í—ˆìš© ì—°ê²° ìˆ˜
)

# 2. ì„¸ì…˜ íŒ©í† ë¦¬ ìƒì„±
AsyncSessionLocal = sessionmaker(
    engine,
    class_=AsyncSession,
    expire_on_commit=False
)

# 3. ì˜ì¡´ì„± ì£¼ì…ìš© í•¨ìˆ˜
async def get_async_session() -> AsyncSession:
    async with AsyncSessionLocal() as session:
        yield session  # ìš”ì²­ ì²˜ë¦¬ í›„ ìë™ìœ¼ë¡œ ì„¸ì…˜ ë‹«í˜
```

**User ëª¨ë¸ ì˜ˆì‹œ:**
```python
# services/user-service/app/models/user.py

from sqlalchemy import Column, Integer, String, Boolean, DateTime
from sqlalchemy.orm import declarative_base

Base = declarative_base()

class User(Base):
    __tablename__ = "users"

    id = Column(Integer, primary_key=True, index=True)
    email = Column(String(255), unique=True, nullable=False)
    username = Column(String(50), unique=True, nullable=False)
    password_hash = Column(String(255), nullable=False)
    display_name = Column(String(100))
    is_online = Column(Boolean, default=False)
    last_seen_at = Column(DateTime)
    created_at = Column(DateTime, server_default=func.now())
```

### MongoDB + Beanie (ë¬¸ì„œí˜• ë°ì´í„°)

```python
# services/chat-service/app/models/messages.py

from beanie import Document
from pydantic import Field
from datetime import datetime

class Message(Document):
    """ì±„íŒ… ë©”ì‹œì§€ (MongoDBì— ì €ì¥)"""
    user_id: int                              # ë³´ë‚¸ ì‚¬ëŒ
    room_id: int                              # ì±„íŒ…ë°©
    content: str                              # ë©”ì‹œì§€ ë‚´ìš©
    message_type: str = "text"                # text, image, file
    created_at: datetime = Field(default_factory=datetime.utcnow)
    is_deleted: bool = False                  # ì†Œí”„íŠ¸ ì‚­ì œ

    class Settings:
        name = "messages"  # ì»¬ë ‰ì…˜ ì´ë¦„
        indexes = [
            [("room_id", 1), ("created_at", -1)]  # ë³µí•© ì¸ë±ìŠ¤
        ]
```

**ì™œ ë©”ì‹œì§€ëŠ” MongoDBì— ì €ì¥í• ê¹Œìš”?**
```
MySQL (ê´€ê³„í˜•):
  - ì¥ì : JOIN, íŠ¸ëœì­ì…˜, ì¼ê´€ì„±
  - ë‹¨ì : ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì–´ë ¤ì›€, ëŒ€ìš©ëŸ‰ ì“°ê¸° ë¶€ë‹´

MongoDB (ë¬¸ì„œí˜•):
  - ì¥ì : ìœ ì—°í•œ ìŠ¤í‚¤ë§ˆ, ë¹ ë¥¸ ì“°ê¸°, ìˆ˜í‰ í™•ì¥ ì‰¬ì›€
  - ë‹¨ì : JOIN ì—†ìŒ, íŠ¸ëœì­ì…˜ ì œí•œì 

â†’ ë©”ì‹œì§€ëŠ” "ëŒ€ëŸ‰ìœ¼ë¡œ ë¹ ë¥´ê²Œ ìŒ“ì´ê³ " "ìŠ¤í‚¤ë§ˆê°€ ìì£¼ ë°”ë€” ìˆ˜ ìˆì–´ì„œ" MongoDBê°€ ì í•©!
  (ì˜ˆ: ë‚˜ì¤‘ì— ì´ëª¨ì§€ ë°˜ì‘, ë‹µì¥, íŒŒì¼ ì²¨ë¶€ ë“± ì¶”ê°€)
```

### Redis (ìºì‹œ ë° ì‹¤ì‹œê°„ ìƒíƒœ)

```python
# services/user-service/app/database/redis.py

import redis.asyncio as redis

# Redis í´ë¼ì´ì–¸íŠ¸ ìƒì„±
redis_client = redis.from_url(settings.redis_url)

# ì˜¨ë¼ì¸ ìƒíƒœ ì €ì¥ (TTL: 60ì´ˆ)
async def set_online(user_id: int):
    await redis_client.setex(
        f"user:online:{user_id}",  # í‚¤
        60,                         # TTL (ì´ˆ)
        "online"                    # ê°’
    )

# ì˜¨ë¼ì¸ ìƒíƒœ í™•ì¸
async def is_online(user_id: int) -> bool:
    result = await redis_client.get(f"user:online:{user_id}")
    return result is not None
```

**Redis ì‚¬ìš© íŒ¨í„´:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Redis í‚¤ íŒ¨í„´                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ user:online:{user_id}     â†’ ì˜¨ë¼ì¸ ìƒíƒœ (TTL 60ì´ˆ)   â”‚
â”‚ user:session:{user_id}    â†’ ì„¸ì…˜ ì •ë³´               â”‚
â”‚ cache:user:{user_id}      â†’ ìœ ì € ì •ë³´ ìºì‹œ          â”‚
â”‚ rate_limit:{ip}           â†’ API í˜¸ì¶œ ì œí•œ           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2.3 ì„œë¹„ìŠ¤ë³„ í•µì‹¬ ì½”ë“œ ë¶„ì„

### User Service: ì¸ì¦ ë¡œì§

```python
# services/user-service/app/api/auth.py

@router.post("/register", response_model=UserResponse)
async def register(
    user_data: UserCreate,
    db: AsyncSession = Depends(get_async_session)
):
    # 1. ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
    existing = await auth_service.find_user_by_email(db, user_data.email)
    if existing:
        raise HTTPException(status_code=400, detail="ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤")

    # 2. ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
    hashed_password = get_password_hash(user_data.password)

    # 3. ì‚¬ìš©ì ìƒì„±
    user = await auth_service.create_user(db, user_data, hashed_password)

    # 4. Kafka ì´ë²¤íŠ¸ ë°œí–‰ (ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ì•Œë¦¼)
    await producer.publish(
        topic="user.events",
        event=UserRegistered(user_id=user.id, email=user.email)
    )

    return user
```

### Friend Service: ì¹œêµ¬ ìš”ì²­ ë¡œì§

```python
# services/friend-service/app/api/friend.py

@router.post("/request")
async def send_friend_request(
    request: FriendRequest,
    current_user: User = Depends(get_current_user),
    db: AsyncSession = Depends(get_async_session)
):
    # 1. ìê¸° ìì‹ ì—ê²Œ ìš”ì²­ ë°©ì§€
    if request.target_user_id == current_user.id:
        raise HTTPException(status_code=400, detail="ìì‹ ì—ê²Œ ì¹œêµ¬ ìš”ì²­í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")

    # 2. ì´ë¯¸ ì¹œêµ¬ì¸ì§€ í™•ì¸
    existing = await friendship_service.get_friendship(
        db, current_user.id, request.target_user_id
    )
    if existing:
        raise HTTPException(status_code=400, detail="ì´ë¯¸ ì¹œêµ¬ ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤")

    # 3. ì¹œêµ¬ ìš”ì²­ ìƒì„± (status: pending)
    friendship = await friendship_service.create_request(
        db, current_user.id, request.target_user_id
    )

    # 4. Kafka ì´ë²¤íŠ¸ ë°œí–‰
    await producer.publish(
        topic="friend.events",
        event=FriendRequestSent(
            from_user_id=current_user.id,
            to_user_id=request.target_user_id
        )
    )

    return friendship
```

### Chat Service: ë©”ì‹œì§€ ì „ì†¡ ë¡œì§

```python
# services/chat-service/app/api/message.py

@router.post("/{room_id}")
async def send_message(
    room_id: int,
    message_data: MessageCreate,
    current_user: User = Depends(get_current_user)
):
    # 1. ì±„íŒ…ë°© ì°¸ì—¬ìì¸ì§€ í™•ì¸
    is_member = await chat_room_service.is_room_member(room_id, current_user.id)
    if not is_member:
        raise HTTPException(status_code=403, detail="ì±„íŒ…ë°©ì— ì°¸ì—¬í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤")

    # 2. ë©”ì‹œì§€ ì €ì¥ (MongoDB)
    message = Message(
        user_id=current_user.id,
        room_id=room_id,
        content=message_data.content,
        message_type=message_data.message_type
    )
    await message.insert()

    # 3. Kafka ì´ë²¤íŠ¸ ë°œí–‰ (ì‹¤ì‹œê°„ ì•Œë¦¼ìš©)
    await producer.publish(
        topic="message.events",
        event=MessageSent(
            message_id=str(message.id),
            room_id=room_id,
            user_id=current_user.id,
            content=message_data.content
        ),
        key=str(room_id)  # ê°™ì€ ì±„íŒ…ë°© ë©”ì‹œì§€ëŠ” ìˆœì„œ ë³´ì¥
    )

    return message
```

---

## 2.4 Part 2 í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] async/awaitê°€ ì™œ í•„ìš”í•œì§€ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Pydantic ìŠ¤í‚¤ë§ˆ ì‘ì„±ë²•ì„ ì´í•´í–ˆë‹¤
- [ ] Depends()ë¡œ ì˜ì¡´ì„± ì£¼ì…í•˜ëŠ” ë°©ë²•ì„ ì•Œì•˜ë‹¤
- [ ] MySQL, MongoDB, Redisì˜ ìš©ë„ ì°¨ì´ë¥¼ ì´í•´í–ˆë‹¤
- [ ] User Serviceì˜ íšŒì›ê°€ì… ì½”ë“œë¥¼ ë”°ë¼ê°ˆ ìˆ˜ ìˆë‹¤
- [ ] ê° ì„œë¹„ìŠ¤ê°€ Kafkaë¡œ ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•˜ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤

> **Spring Bootì—ì„œëŠ”?**
> - `async/await` â†’ Spring WebFluxì˜ `Mono`/`Flux` ë˜ëŠ” ì½”ë£¨í‹´
> - `Pydantic` â†’ Javaì˜ Bean Validation (`@Valid`, `@NotNull`)
> - `Depends()` â†’ Springì˜ `@Autowired` ë˜ëŠ” ìƒì„±ì ì£¼ì…
> - `SQLAlchemy` â†’ Spring Data JPA
> - `Beanie` â†’ Spring Data MongoDB

---

# Part 3: MSA ì•„í‚¤í…ì²˜ (Day 8-14)

## 3.1 MSAë€ ë¬´ì—‡ì¸ê°€?

### Monolithic vs MSA ë¹„êµ

**Monolithic (ë‹¨ì¼ ì•±):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           í•˜ë‚˜ì˜ FastAPI ì•±              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  User   â”‚  Chat   â”‚ Friend  â”‚       â”‚
â”‚  â”‚  API    â”‚  API    â”‚  API    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚            í•˜ë‚˜ì˜ DB                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë¬¸ì œì :
- User ê¸°ëŠ¥ ìˆ˜ì •í•´ë„ ì „ì²´ ì•± ì¬ë°°í¬
- Chat íŠ¸ë˜í”½ í­ì¦ ì‹œ ì „ì²´ ì•± Scale-up í•„ìš”
- í•œ ë¶€ë¶„ ë²„ê·¸ë¡œ ì „ì²´ ì„œë¹„ìŠ¤ ì¥ì•  ê°€ëŠ¥
```

**MSA (ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Service â”‚  â”‚ Chat Service â”‚  â”‚Friend Serviceâ”‚
â”‚   (ë³„ë„ ì•±)   â”‚  â”‚   (ë³„ë„ ì•±)   â”‚  â”‚   (ë³„ë„ ì•±)   â”‚
â”‚   ë³„ë„ DB    â”‚  â”‚   ë³„ë„ DB    â”‚  â”‚   ë³„ë„ DB    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¥ì :
- Userë§Œ ìˆ˜ì •í•˜ë©´ Userë§Œ ì¬ë°°í¬
- Chat íŠ¸ë˜í”½ í­ì¦ ì‹œ Chatë§Œ Scale-out
- Chat ì¥ì•  ì‹œ User/FriendëŠ” ì •ìƒ ë™ì‘
```

### ì´ í”„ë¡œì íŠ¸ì˜ MSA ë¶„ë¦¬ ê¸°ì¤€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ê¸°ì¤€ ë¶„ë¦¬                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  User Domain    â”‚  Friend Domain  â”‚     Chat Domain         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ íšŒì›ê°€ì…      â”‚ â€¢ ì¹œêµ¬ ìš”ì²­     â”‚ â€¢ ì±„íŒ…ë°© ê´€ë¦¬           â”‚
â”‚ â€¢ ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒâ”‚ â€¢ ì¹œêµ¬ ìˆ˜ë½/ê±°ì ˆ â”‚ â€¢ ë©”ì‹œì§€ ì „ì†¡/ì¡°íšŒ      â”‚
â”‚ â€¢ í”„ë¡œí•„ ê´€ë¦¬   â”‚ â€¢ ì¹œêµ¬ ëª©ë¡     â”‚ â€¢ ì½ìŒ ìƒíƒœ ê´€ë¦¬        â”‚
â”‚ â€¢ ì‚¬ìš©ì ê²€ìƒ‰   â”‚ â€¢ ì°¨ë‹¨ ê´€ë¦¬     â”‚ â€¢ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MySQL + Redis   â”‚ MySQL           â”‚ MySQL + MongoDB + Redis â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3.2 DDD(Domain-Driven Design) ê¸°ì´ˆ

### Bounded Context (ê²½ê³„ê°€ ìˆëŠ” ë§¥ë½)

**ë¹„ìœ : íšŒì‚¬ì˜ ë¶€ì„œ**
```
"ì‚¬ìš©ì"ë¼ëŠ” ë‹¨ì–´ì˜ ì˜ë¯¸ê°€ ë¶€ì„œë§ˆë‹¤ ë‹¤ë¦„:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HR ë¶€ì„œì—ì„œ "ì‚¬ìš©ì" = ì§ì› (ê¸‰ì—¬, íœ´ê°€, ì¸ì‚¬ì •ë³´)            â”‚
â”‚ IT ë¶€ì„œì—ì„œ "ì‚¬ìš©ì" = ì‹œìŠ¤í…œ ê³„ì • (ê¶Œí•œ, ì ‘ê·¼ ê¸°ë¡)          â”‚
â”‚ ë§ˆì¼€íŒ…ì—ì„œ "ì‚¬ìš©ì" = ê³ ê° (êµ¬ë§¤ ì´ë ¥, ì„ í˜¸ë„)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†’ ê° ë¶€ì„œ(Context)ë§ˆë‹¤ "ì‚¬ìš©ì"ì˜ ì˜ë¯¸ì™€ ì†ì„±ì´ ë‹¤ë¦„
â†’ ì´ê²ƒì´ Bounded Context!
```

**ì´ í”„ë¡œì íŠ¸ì˜ Bounded Context:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Contextì—ì„œ "User"                                     â”‚
â”‚ = ì¸ì¦ ëŒ€ìƒ (email, password_hash, is_active)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Friend Contextì—ì„œ "User"                                   â”‚
â”‚ = ì¹œêµ¬ ê´€ê³„ì˜ ëŒ€ìƒ (user_idë§Œ ì°¸ì¡°)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chat Contextì—ì„œ "User"                                     â”‚
â”‚ = ë©”ì‹œì§€ ë°œì‹ ì (user_id, username ìºì‹±)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Aggregate (ì§‘í•©ì²´)

**ë¹„ìœ : ì£¼ë¬¸ì„œ**
```
ì£¼ë¬¸ì„œ = Aggregate Root (ì§„ì…ì )
â”œâ”€â”€ ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡ = Entity
â”œâ”€â”€ ë°°ì†¡ ì£¼ì†Œ = Value Object
â””â”€â”€ ê²°ì œ ì •ë³´ = Value Object

ê·œì¹™: ì™¸ë¶€ì—ì„œëŠ” "ì£¼ë¬¸ì„œ"ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼
      ì§ì ‘ "ì£¼ë¬¸ ìƒí’ˆ"ì„ ìˆ˜ì •í•˜ë©´ ì•ˆ ë¨
```

**ì´ í”„ë¡œì íŠ¸ì˜ Aggregate:**
```python
# User Aggregate
User (Root)
â”œâ”€â”€ email, username, password_hash  # Userê°€ ì§ì ‘ ê´€ë¦¬
â””â”€â”€ Profile (Value Object)          # display_name, profile_image

# ChatRoom Aggregate
ChatRoom (Root)
â”œâ”€â”€ room_type, created_at           # ChatRoomì´ ì§ì ‘ ê´€ë¦¬
â”œâ”€â”€ RoomMember[] (Entity)           # ì°¸ì—¬ì ëª©ë¡
â””â”€â”€ Message[] (Entity)              # ë©”ì‹œì§€ ëª©ë¡
```

> ğŸ“š **ë” ìì„¸í•œ DDD ì„¤ëª…**: [Bounded Context ë¬¸ì„œ](./architecture/01-bounded-context.md), [Aggregate ì„¤ê³„ ë¬¸ì„œ](./architecture/02-aggregate-design.md)

---

## 3.3 ì„œë¹„ìŠ¤ ê°„ í†µì‹ 

### ë™ê¸° í†µì‹  (REST API)

```
ì‚¬ìš©ìê°€ ì¹œêµ¬ ëª©ë¡ ì¡°íšŒ ì‹œ:

Client â†’ Friend Service: GET /friends
                â†“
         Friend Service â†’ User Service: GET /users?ids=1,2,3
                              (ì¹œêµ¬ë“¤ì˜ ìƒì„¸ ì •ë³´ ì¡°íšŒ)
                â†“
         Friend Service â† User Service: [{id:1, name:"ì² ìˆ˜"}, ...]
                â†“
Client â† Friend Service: ì¹œêµ¬ ëª©ë¡ + ìƒì„¸ ì •ë³´
```

**ì½”ë“œ ì˜ˆì‹œ:**
```python
# Friend Serviceì—ì„œ User Service í˜¸ì¶œ
import httpx

async def get_user_details(user_ids: list[int]):
    async with httpx.AsyncClient() as client:
        response = await client.get(
            "http://user-service:8005/users",
            params={"user_ids": ",".join(map(str, user_ids))}
        )
        return response.json()
```

### ë¹„ë™ê¸° í†µì‹  (Kafka ì´ë²¤íŠ¸)

```
ì‚¬ìš©ìê°€ íšŒì›ê°€ì… ì‹œ:

User Service: íšŒì› ìƒì„± ì™„ë£Œ
      â†“
      â””â”€â”€â†’ Kafka (user.events): UserRegistered ì´ë²¤íŠ¸ ë°œí–‰
                    â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
           â†“               â†“
    Notification      Analytics
      Service          Service
    (í™˜ì˜ ì´ë©”ì¼)     (í†µê³„ ìˆ˜ì§‘)
```

**ì–¸ì œ ì–´ë–¤ ë°©ì‹ì„ ì‚¬ìš©í• ê¹Œ?**

| ìƒí™© | í†µì‹  ë°©ì‹ | ì´ìœ  |
|------|-----------|------|
| ì¹œêµ¬ ëª©ë¡ + ìƒì„¸ ì •ë³´ | REST (ë™ê¸°) | ì‘ë‹µì´ ë°”ë¡œ í•„ìš” |
| íšŒì›ê°€ì… ì•Œë¦¼ | Kafka (ë¹„ë™ê¸°) | ì‘ë‹µ ê¸°ë‹¤ë¦´ í•„ìš” ì—†ìŒ |
| ë©”ì‹œì§€ ì „ì†¡ | Kafka (ë¹„ë™ê¸°) | ë¹ ë¥¸ ì‘ë‹µ + ë‹¤ìˆ˜ì—ê²Œ ì „ë‹¬ |
| í”„ë¡œí•„ ì¡°íšŒ | REST (ë™ê¸°) | ì¦‰ì‹œ ë°ì´í„° í•„ìš” |

---

## 3.4 API Gateway (Kong)

### API Gatewayì˜ ì—­í• 

```
                    ì¸í„°ë„·
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Kong API Gateway                          â”‚
â”‚                                                             â”‚
â”‚  1. ë¼ìš°íŒ…: /api/users/* â†’ User Service (8005)             â”‚
â”‚            /api/friends/* â†’ Friend Service (8003)          â”‚
â”‚            /api/messages/* â†’ Chat Service (8002)           â”‚
â”‚                                                             â”‚
â”‚  2. ì¸ì¦: JWT í† í° ê²€ì¦ (ì„ íƒì )                            â”‚
â”‚                                                             â”‚
â”‚  3. Rate Limiting: IPë‹¹ ë¶„ë‹¹ 100íšŒ ì œí•œ                     â”‚
â”‚                                                             â”‚
â”‚  4. CORS: í—ˆìš©ëœ ë„ë©”ì¸ë§Œ ì ‘ê·¼ ê°€ëŠ¥                          â”‚
â”‚                                                             â”‚
â”‚  5. ë¡œê¹…: ëª¨ë“  ìš”ì²­/ì‘ë‹µ ê¸°ë¡                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë¼ìš°íŒ… ê·œì¹™ ì˜ˆì‹œ:**
```bash
# infrastructure/docker/kong/kong-config.sh

# User Service ë¼ìš°íŒ…
curl -X POST http://kong:8001/services \
  --data name=user-service \
  --data url=http://user-service:8005

curl -X POST http://kong:8001/services/user-service/routes \
  --data paths[]=/api/auth \
  --data paths[]=/api/users \
  --data paths[]=/api/profile
```

---

## 3.5 Part 3 í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Monolithic vs MSAì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Bounded Contextê°€ ë¬´ì—‡ì¸ì§€ ì´í•´í–ˆë‹¤
- [ ] Aggregateì˜ ì—­í• ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] REST vs Kafka í†µì‹ ì˜ ì°¨ì´ë¥¼ ì´í•´í–ˆë‹¤
- [ ] API Gatewayê°€ ì™œ í•„ìš”í•œì§€ ì•Œì•˜ë‹¤

> **Spring Bootì—ì„œëŠ”?**
> - DDD ê°œë…ì€ ì–¸ì–´ì™€ ë¬´ê´€í•˜ê²Œ ë™ì¼í•˜ê²Œ ì ìš©
> - API Gateway: Spring Cloud Gateway ë˜ëŠ” Kong ë™ì¼ ì‚¬ìš©
> - ì„œë¹„ìŠ¤ ê°„ í†µì‹ : Spring WebClient (REST), Spring Kafka

---

# Part 4: Kafka Event Streaming (Day 15-21)

## 4.1 Kafka ê¸°ì´ˆ ê°œë…

### Kafkaë¥¼ ìš°ì²´êµ­ì— ë¹„ìœ í•˜ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Kafka = 24ì‹œê°„ ìš°ì²´êµ­                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Producer (ë°œì‹ ì)        Topic (ìš°í¸í•¨)      Consumer (ìˆ˜ì‹ ì)
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ User Serviceâ”‚ â”€â”€â”€â”€â”€â”€â–¶ â”‚ user.events â”‚ â”€â”€â–¶â”‚ Notificationâ”‚
â”‚  â”‚ (íšŒì›ê°€ì…)   â”‚  í¸ì§€    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚  Service   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  ì „ì†¡    â”‚ â”‚Partitionâ”‚ â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                          â”‚ â”‚   0     â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ Chat Serviceâ”‚ â”€â”€â”€â”€â”€â”€â–¶ â”‚ â”‚Partitionâ”‚ â”‚ â”€â”€â–¶â”‚  Analytics  â”‚
â”‚  â”‚ (ë©”ì‹œì§€ì „ì†¡) â”‚         â”‚ â”‚   1     â”‚ â”‚     â”‚  Service   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                             â”‚
â”‚  ğŸ’¡ Partition = ìš°í¸í•¨ì„ ì—¬ëŸ¬ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ”                    â”‚
â”‚     â†’ ì—¬ëŸ¬ Consumerê°€ ë™ì‹œì— ì²˜ë¦¬ ê°€ëŠ¥ (ë³‘ë ¬ ì²˜ë¦¬)           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ìš©ì–´ ì •ë¦¬

| ìš©ì–´ | ì„¤ëª… | ë¹„ìœ  |
|------|------|------|
| **Producer** | ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ìª½ | í¸ì§€ ë³´ë‚´ëŠ” ì‚¬ëŒ |
| **Consumer** | ë©”ì‹œì§€ë¥¼ ë°›ëŠ” ìª½ | í¸ì§€ ë°›ëŠ” ì‚¬ëŒ |
| **Topic** | ë©”ì‹œì§€ ë¶„ë¥˜ ë‹¨ìœ„ | ìš°í¸í•¨ ì¢…ë¥˜ (ì¼ë°˜/ë“±ê¸°/íƒë°°) |
| **Partition** | Topic ë‚´ ë³‘ë ¬ ì²˜ë¦¬ ë‹¨ìœ„ | ìš°í¸í•¨ì˜ ì¹¸ |
| **Offset** | ë©”ì‹œì§€ ìˆœë²ˆ | í¸ì§€ì˜ ì¼ë ¨ë²ˆí˜¸ |
| **Consumer Group** | ê°™ì€ ëª©ì ì˜ Consumer ê·¸ë£¹ | ê°™ì€ ë¶€ì„œ ì§ì›ë“¤ |

### Consumer Group ì´í•´í•˜ê¸°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  message.events Topic (3 Partitions)                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚Partition 0â”‚  â”‚Partition 1â”‚  â”‚Partition 2â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â”‚
â”‚        â”‚              â”‚              â”‚                     â”‚
â”‚        â–¼              â–¼              â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚     Consumer Group: notification-group       â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚           â”‚
â”‚  â”‚  â”‚Consumer 1â”‚  â”‚Consumer 2â”‚  â”‚Consumer 3â”‚  â”‚           â”‚
â”‚  â”‚  â”‚(P0 ë‹´ë‹¹) â”‚  â”‚(P1 ë‹´ë‹¹) â”‚  â”‚(P2 ë‹´ë‹¹) â”‚  â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¡ ê°™ì€ ê·¸ë£¹ ë‚´ Consumerë“¤ì€ Partitionì„ ë‚˜ëˆ ì„œ ì²˜ë¦¬        â”‚
â”‚     â†’ ë³‘ë ¬ ì²˜ë¦¬ë¡œ ì²˜ë¦¬ëŸ‰ ì¦ê°€!                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4.2 ì´ í”„ë¡œì íŠ¸ì˜ Kafka ì„¤ê³„

### Topic ëª©ë¡

| Topic | Partitions | ë³´ê´€ê¸°ê°„ | ë°œí–‰ì | ìš©ë„ |
|-------|------------|----------|--------|------|
| `user.events` | 3 | 7ì¼ | User Service | íšŒì›ê°€ì…, í”„ë¡œí•„ ìˆ˜ì • |
| `user.online_status` | 6 | 1ì‹œê°„ | User Service | ì˜¨ë¼ì¸ ìƒíƒœ ë³€ê²½ |
| `friend.events` | 3 | 7ì¼ | Friend Service | ì¹œêµ¬ ìš”ì²­/ìˆ˜ë½/ê±°ì ˆ |
| `message.events` | 10 | 7ì¼ | Chat Service | ë©”ì‹œì§€ ì „ì†¡ |
| `chat.events` | 3 | 7ì¼ | Chat Service | ì±„íŒ…ë°© ìƒì„± |

### ì´ë²¤íŠ¸ íë¦„ ì˜ˆì‹œ: ë©”ì‹œì§€ ì „ì†¡

```
1. ì‚¬ìš©ì Aê°€ ë©”ì‹œì§€ ì „ì†¡
   â”‚
   â–¼
2. Chat Service: ë©”ì‹œì§€ MongoDB ì €ì¥
   â”‚
   â–¼
3. Chat Service â†’ Kafka: MessageSent ì´ë²¤íŠ¸ ë°œí–‰
   {
     "event_type": "MessageSent",
     "message_id": "msg_123",
     "room_id": 1,
     "user_id": 100,
     "content": "ì•ˆë…•í•˜ì„¸ìš”!",
     "timestamp": "2026-01-27T10:00:00Z"
   }
   â”‚
   â–¼
4. Kafka (message.events Topic, Partition = room_id % 10)
   â”‚
   â”œâ”€â”€â–¶ Notification Service: ì‚¬ìš©ì Bì—ê²Œ í‘¸ì‹œ ì•Œë¦¼
   â”‚
   â””â”€â”€â–¶ Analytics Service: ë©”ì‹œì§€ í†µê³„ ìˆ˜ì§‘
```

### Producer ì½”ë“œ ì˜ˆì‹œ

```python
# services/chat-service/app/kafka/producer.py

from aiokafka import AIOKafkaProducer
import json

class KafkaEventProducer:
    def __init__(self):
        self.producer = None

    async def start(self):
        self.producer = AIOKafkaProducer(
            bootstrap_servers=settings.kafka_bootstrap_servers.split(","),
            value_serializer=lambda v: json.dumps(v).encode('utf-8'),
            acks='all',  # ëª¨ë“  ë³µì œë³¸ì— ì €ì¥ í™•ì¸
        )
        await self.producer.start()

    async def publish(self, topic: str, event: dict, key: str = None):
        """ì´ë²¤íŠ¸ ë°œí–‰"""
        await self.producer.send_and_wait(
            topic=topic,
            value=event,
            key=key.encode('utf-8') if key else None
        )

# ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤
_producer = KafkaEventProducer()

def get_event_producer():
    return _producer
```

---

## 4.3 ì‹¤ìŠµ: Kafka UIë¡œ ì´ë²¤íŠ¸ í™•ì¸

### Kafka UI ì ‘ì†

```bash
# Kafka UI ì ‘ì†
open http://localhost:8080
```

### ì‹¤ìŠµ ìˆœì„œ

1. **Topic ëª©ë¡ í™•ì¸**
   - ì¢Œì¸¡ ë©”ë‰´ "Topics" í´ë¦­
   - `user.events`, `message.events` ë“± í™•ì¸

2. **ë©”ì‹œì§€ í™•ì¸**
   - Topic í´ë¦­ â†’ "Messages" íƒ­
   - ì‹¤ì‹œê°„ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ì´ë²¤íŠ¸ í™•ì¸

3. **ì´ë²¤íŠ¸ ë°œìƒì‹œí‚¤ê¸°**
   ```bash
   # 1. íšŒì›ê°€ì… (UserRegistered ì´ë²¤íŠ¸ ë°œìƒ)
   curl -X POST http://localhost:8005/auth/register \
     -H "Content-Type: application/json" \
     -d '{"email": "kafka-test@example.com", "username": "kafkatest", "password": "Test1234!@"}'

   # 2. Kafka UIì—ì„œ user.events Topic í™•ì¸
   # â†’ UserRegistered ì´ë²¤íŠ¸ê°€ ë³´ì—¬ì•¼ í•¨
   ```

4. **Consumer Lag í™•ì¸**
   - "Consumer Groups" ë©”ë‰´
   - Lag = ì•„ì§ ì²˜ë¦¬ ì•ˆ ëœ ë©”ì‹œì§€ ìˆ˜
   - Lagì´ ê³„ì† ì¦ê°€í•˜ë©´ Consumerê°€ ëŠë¦° ê²ƒ!

> ğŸ“š **ë” ìì„¸í•œ Kafka ì„¤ëª…**: [Kafka Topic ì„¤ê³„ ë¬¸ì„œ](./kafka/topic-design.md)

---

## 4.4 Part 4 í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Producer, Consumer, Topic, Partitionì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Consumer Groupì˜ ì—­í• ì„ ì´í•´í–ˆë‹¤
- [ ] ì´ í”„ë¡œì íŠ¸ì˜ Kafka Topic ëª©ë¡ì„ ì•Œì•˜ë‹¤
- [ ] Kafka UIì—ì„œ ì´ë²¤íŠ¸ë¥¼ í™•ì¸í•´ë´¤ë‹¤
- [ ] MessageSent ì´ë²¤íŠ¸ì˜ íë¦„ì„ ë”°ë¼ê°ˆ ìˆ˜ ìˆë‹¤

> **Spring Bootì—ì„œëŠ”?**
> - Spring Kafka ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
> - `@KafkaListener`ë¡œ Consumer êµ¬í˜„
> - `KafkaTemplate`ìœ¼ë¡œ Producer êµ¬í˜„
> - Kafka ê°œë… ìì²´ëŠ” ë™ì¼!

---

# Part 5: Docker & Kubernetes (Day 22-28)

## 5.1 Docker ê¸°ì´ˆ

### Dockerfile êµ¬ì¡° ì´í•´

```dockerfile
# services/user-service/Dockerfile

# ============================================
# Stage 1: Builder (ë¹Œë“œ í™˜ê²½)
# ============================================
FROM python:3.11-slim AS builder

WORKDIR /build

# ë¹Œë“œì—ë§Œ í•„ìš”í•œ ë„êµ¬ ì„¤ì¹˜
RUN apt-get update && apt-get install -y \
    gcc \           # C ì»´íŒŒì¼ëŸ¬ (ì¼ë¶€ íŒ¨í‚¤ì§€ ë¹Œë“œìš©)
    libffi-dev      # FFI ë¼ì´ë¸ŒëŸ¬ë¦¬

# ê°€ìƒí™˜ê²½ ìƒì„± ë° íŒ¨í‚¤ì§€ ì„¤ì¹˜
RUN python -m venv /opt/venv
ENV PATH="/opt/venv/bin:$PATH"
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# ============================================
# Stage 2: Runtime (ì‹¤í–‰ í™˜ê²½)
# ============================================
FROM python:3.11-slim AS runtime

WORKDIR /app

# ì‹¤í–‰ì— í•„ìš”í•œ ê²ƒë§Œ ì„¤ì¹˜ (curl = í—¬ìŠ¤ì²´í¬ìš©)
RUN apt-get update && apt-get install -y curl \
    && useradd --create-home appuser  # ë³´ì•ˆ: ë¹„-root ì‚¬ìš©ì

# Builderì—ì„œ ë§Œë“  ê°€ìƒí™˜ê²½ë§Œ ë³µì‚¬ (gcc ë“±ì€ ë³µì‚¬ ì•ˆ í•¨!)
COPY --from=builder /opt/venv /opt/venv
ENV PATH="/opt/venv/bin:$PATH"

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ ë³µì‚¬
COPY --chown=appuser:appuser . .

# ë¹„-root ì‚¬ìš©ìë¡œ ì‹¤í–‰
USER appuser

EXPOSE 8005
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8005"]
```

### Multi-stage Buildì˜ íš¨ê³¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ì´ë¯¸ì§€ í¬ê¸° ë¹„êµ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì„œë¹„ìŠ¤           â”‚ Before      â”‚ After       â”‚ ì ˆê°ë¥         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ User Service    â”‚ 425MB       â”‚ 251MB       â”‚ -41%          â”‚
â”‚ Friend Service  â”‚ 425MB       â”‚ 251MB       â”‚ -41%          â”‚
â”‚ Chat Service    â”‚ 471MB       â”‚ 297MB       â”‚ -37%          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ ì™œ ì‘ì€ ì´ë¯¸ì§€ê°€ ì¢‹ì„ê¹Œ?
   - ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•
   - ë°°í¬ ì‹œê°„ ë‹¨ì¶• (ë‹¤ìš´ë¡œë“œ ë¹ ë¦„)
   - ì €ì¥ ê³µê°„ ì ˆì•½
   - ë³´ì•ˆ (ë¶ˆí•„ìš”í•œ ë„êµ¬ ì—†ìŒ)
```

### Docker ëª…ë ¹ì–´

```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t bigtech-user-service:latest \
  -f services/user-service/Dockerfile \
  services/user-service/

# ì´ë¯¸ì§€ í¬ê¸° í™•ì¸
docker images | grep bigtech

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -d -p 8005:8005 bigtech-user-service:latest

# ë¡œê·¸ í™•ì¸
docker logs -f <container_id>
```

> ğŸ“š **ë” ìì„¸í•œ Docker ì„¤ëª…**: [Dockerfile ìµœì í™” ë¬¸ì„œ](./optimization/01-dockerfile-optimization.md)

---

## 5.2 Kubernetes ê¸°ì´ˆ

### í•µì‹¬ ê°œë… (ì‹ ì… ê´€ì )

**Pod = ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ë‹¨ìœ„**
```yaml
# Pod ì•ˆì— ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Pod          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Container    â”‚  â”‚
â”‚  â”‚  (user-svc)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Deployment = Podë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒ**
```yaml
# "user-service Podë¥¼ í•­ìƒ 2ê°œ ìœ ì§€í•´ì¤˜"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Deployment                     â”‚
â”‚  replicas: 2                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚    Pod 1    â”‚  â”‚    Pod 2    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                         â”‚
â”‚  Pod 1ì´ ì£½ìœ¼ë©´? â†’ ìë™ìœ¼ë¡œ ìƒˆ Pod ìƒì„±  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Service = Podë“¤ì—ê²Œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•**
```yaml
# "user-serviceë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´ Podë“¤ì—ê²Œ ì—°ê²°í•´ì¤˜"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Service: user-service                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  user-service:8005                          â”‚   â”‚
â”‚  â”‚         â”‚                                    â”‚   â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                              â”‚   â”‚
â”‚  â”‚    â–¼         â–¼                              â”‚   â”‚
â”‚  â”‚  Pod 1    Pod 2   (ë¡œë“œë°¸ëŸ°ì‹±)               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**HPA = ìë™ í™•ì¥**
```yaml
# "CPU 70% ë„˜ìœ¼ë©´ Pod ëŠ˜ë ¤ì¤˜"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HPA (Horizontal Pod Autoscaler)                    â”‚
â”‚                                                     â”‚
â”‚  CPU < 70%: Pod 2ê°œ ìœ ì§€                            â”‚
â”‚  CPU > 70%: Pod 3ê°œ, 4ê°œ, ... ìµœëŒ€ 10ê°œê¹Œì§€         â”‚
â”‚  CPU < 40%: Pod ë‹¤ì‹œ ì¤„ì„                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.3 ì´ í”„ë¡œì íŠ¸ì˜ K8s ë§¤ë‹ˆí˜ìŠ¤íŠ¸

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
k8s/manifests/
â”œâ”€â”€ namespace.yaml          # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì •ì˜
â”œâ”€â”€ configmap.yaml          # í™˜ê²½ ì„¤ì • (DB URL ë“±)
â”œâ”€â”€ secrets.yaml            # ë¯¼ê° ì •ë³´ (ë¹„ë°€ë²ˆí˜¸)
â”‚
â”œâ”€â”€ services/               # ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ user-service.yaml   # Deployment + Service
â”‚   â”œâ”€â”€ friend-service.yaml
â”‚   â””â”€â”€ chat-service.yaml
â”‚
â”œâ”€â”€ statefulsets/           # ë°ì´í„°ë² ì´ìŠ¤ (ìƒíƒœ ìœ ì§€ í•„ìš”)
â”‚   â”œâ”€â”€ mysql.yaml
â”‚   â”œâ”€â”€ mongodb.yaml
â”‚   â”œâ”€â”€ redis.yaml
â”‚   â””â”€â”€ kafka.yaml
â”‚
â”œâ”€â”€ hpa/
â”‚   â””â”€â”€ hpa.yaml           # Auto Scaling ì„¤ì •
â”‚
â””â”€â”€ ingress/
    â””â”€â”€ ingress.yaml       # ì™¸ë¶€ íŠ¸ë˜í”½ ë¼ìš°íŒ…
```

### ë°°í¬ ëª…ë ¹ì–´

```bash
# 1. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìƒì„±
kubectl apply -f k8s/manifests/namespace.yaml

# 2. ì„¤ì • ì ìš©
kubectl apply -f k8s/manifests/configmap.yaml
kubectl apply -f k8s/manifests/secrets.yaml

# 3. ë°ì´í„°ë² ì´ìŠ¤ ë°°í¬ (ë¨¼ì €!)
kubectl apply -f k8s/manifests/statefulsets/

# 4. ì„œë¹„ìŠ¤ ë°°í¬
kubectl apply -f k8s/manifests/services/

# 5. Auto Scaling ì„¤ì •
kubectl apply -f k8s/manifests/hpa/

# 6. Ingress ì„¤ì •
kubectl apply -f k8s/manifests/ingress/

# ìƒíƒœ í™•ì¸
kubectl get all -n bigtech-chat
```

> ğŸ“š **ë” ìì„¸í•œ K8s ì„¤ëª…**: [Kubernetes ë°°í¬ ê°€ì´ë“œ](../k8s/README.md)

---

## 5.4 Part 5 í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Multi-stage buildê°€ ì™œ í•„ìš”í•œì§€ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Pod, Deployment, Serviceì˜ ì°¨ì´ë¥¼ ì•Œì•˜ë‹¤
- [ ] HPAê°€ ë¬´ì—‡ì¸ì§€ ì´í•´í–ˆë‹¤
- [ ] StatefulSetì€ ì–¸ì œ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•˜ë‹¤
- [ ] kubectl ê¸°ë³¸ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ë´¤ë‹¤

> **Spring Bootì—ì„œëŠ”?**
> - Dockerfile êµ¬ì¡°ëŠ” ê±°ì˜ ë™ì¼ (base ì´ë¯¸ì§€ë§Œ JDKë¡œ ë³€ê²½)
> - Kubernetes ê°œë…ê³¼ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” ì™„ì „íˆ ë™ì¼!
> - K8s ì§€ì‹ì€ ì–¸ì–´ì™€ ë¬´ê´€í•˜ê²Œ 100% ì¬ì‚¬ìš© ê°€ëŠ¥

---

# Part 6: Observability (ëª¨ë‹ˆí„°ë§) (Day 29-35)

## 6.1 ì™œ ëª¨ë‹ˆí„°ë§ì´ ì¤‘ìš”í•œê°€?

### í”„ë¡œë•ì…˜ í™˜ê²½ì˜ í˜„ì‹¤

```
ê°œë°œ í™˜ê²½:                    í”„ë¡œë•ì…˜ í™˜ê²½:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë‚´ ì»´í“¨í„°    â”‚              â”‚ ìˆ˜ë°± ëŒ€ì˜ ì„œë²„           â”‚
â”‚ ìš”ì²­ 1ê°œ    â”‚              â”‚ ì´ˆë‹¹ ìˆ˜ì²œ ê°œì˜ ìš”ì²­      â”‚
â”‚ ì—ëŸ¬ë‚˜ë©´     â”‚              â”‚ ì—ëŸ¬ë‚˜ë©´?               â”‚
â”‚ ì½˜ì†”ì—ì„œ í™•ì¸â”‚              â”‚ ì–´ë””ì„œ ë‚¬ëŠ”ì§€ ëª¨ë¦„!      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†’ ëª¨ë‹ˆí„°ë§ ì—†ì´ëŠ” ë¬¸ì œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ!
```

### Observabilityì˜ 3ê°€ì§€ ì¶•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Observability                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Metrics      â”‚      Logs         â”‚      Traces         â”‚
â”‚    (ìˆ«ì ì§€í‘œ)     â”‚    (í…ìŠ¤íŠ¸ ê¸°ë¡)   â”‚    (ìš”ì²­ ì¶”ì )       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ CPU ì‚¬ìš©ë¥       â”‚ â€¢ ì—ëŸ¬ ë©”ì‹œì§€     â”‚ â€¢ A â†’ B â†’ C íë¦„    â”‚
â”‚ â€¢ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰    â”‚ â€¢ ìš”ì²­/ì‘ë‹µ ê¸°ë¡  â”‚ â€¢ ì–´ë””ì„œ ëŠë ¤ì¡Œë‚˜   â”‚
â”‚ â€¢ ìš”ì²­ ìˆ˜/ì´ˆ      â”‚ â€¢ ë””ë²„ê·¸ ì •ë³´     â”‚ â€¢ ë³‘ëª© ì§€ì  íŒŒì•…    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Prometheus      â”‚   Loki            â”‚   Jaeger            â”‚
â”‚   + Grafana       â”‚   + Grafana       â”‚   (ì¶”í›„ ì ìš©)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6.2 Prometheus + Grafana

### Prometheus: ë©”íŠ¸ë¦­ ìˆ˜ì§‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Prometheus                               â”‚
â”‚                                                             â”‚
â”‚  15ì´ˆë§ˆë‹¤ ê° ì„œë¹„ìŠ¤ì˜ /metrics ì—”ë“œí¬ì¸íŠ¸ë¥¼ "ê¸ì–´ì˜´" (scrape) â”‚
â”‚                                                             â”‚
â”‚  User Service:8005/metrics â”€â”€â”                              â”‚
â”‚  Chat Service:8002/metrics â”€â”€â”¼â”€â”€â–¶ Prometheus DB ì €ì¥        â”‚
â”‚  Friend Service:8003/metrics â”˜                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë©”íŠ¸ë¦­ ì˜ˆì‹œ:**
```
# HTTP ìš”ì²­ ìˆ˜ (Counter - ê³„ì† ì¦ê°€)
http_requests_total{service="user-service", method="POST", path="/auth/login"} 12345

# í˜„ì¬ ì˜¨ë¼ì¸ ì‚¬ìš©ì ìˆ˜ (Gauge - ì˜¤ë¥´ë½ë‚´ë¦¬ë½)
online_users_count{service="user-service"} 523

# ì‘ë‹µ ì‹œê°„ ë¶„í¬ (Histogram)
http_request_duration_seconds_bucket{le="0.1"} 9800   # 0.1ì´ˆ ì´í•˜: 9800ê±´
http_request_duration_seconds_bucket{le="0.5"} 9950   # 0.5ì´ˆ ì´í•˜: 9950ê±´
http_request_duration_seconds_bucket{le="1.0"} 9999   # 1ì´ˆ ì´í•˜: 9999ê±´
```

### Grafana: ì‹œê°í™”

```bash
# Grafana ì ‘ì†
open http://localhost:3000
# ID: admin, PW: admin
```

**ì´ í”„ë¡œì íŠ¸ì˜ ëŒ€ì‹œë³´ë“œ:**

| ëŒ€ì‹œë³´ë“œ | ì£¼ìš” íŒ¨ë„ |
|---------|----------|
| **User Service** | íšŒì›ê°€ì… ìˆ˜, ë¡œê·¸ì¸ ìˆ˜, ì‘ë‹µ ì‹œê°„, ì—ëŸ¬ìœ¨ |
| **Friend Service** | ì¹œêµ¬ ìš”ì²­ ìˆ˜, ìˆ˜ë½ë¥ , API íŠ¸ë˜í”½ |
| **Chat Service** | ë©”ì‹œì§€ ì „ì†¡ëŸ‰, ì±„íŒ…ë°© ìƒì„±, SSE ì—°ê²° ìˆ˜ |
| **Infrastructure** | MySQL/MongoDB/Redis/Kafka ìƒíƒœ |

### PromQL ê¸°ì´ˆ ì¿¼ë¦¬

```promql
# ë¶„ë‹¹ ìš”ì²­ ìˆ˜
rate(http_requests_total[1m])

# í‰ê·  ì‘ë‹µ ì‹œê°„
rate(http_request_duration_seconds_sum[5m]) / rate(http_request_duration_seconds_count[5m])

# ì—ëŸ¬ìœ¨ (%)
sum(rate(http_requests_total{status=~"5.."}[5m])) / sum(rate(http_requests_total[5m])) * 100

# User Serviceì˜ POST ìš”ì²­ë§Œ
http_requests_total{service="user-service", method="POST"}
```

---

## 6.3 ë¡œê¹… (Loki + Promtail)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë¡œê·¸ ìˆ˜ì§‘ íë¦„                            â”‚
â”‚                                                             â”‚
â”‚  User Service â”€â”€â”                                           â”‚
â”‚  Chat Service â”€â”€â”¼â”€â”€â–¶ Promtail â”€â”€â–¶ Loki â”€â”€â–¶ Grafana         â”‚
â”‚  Friend Service â”˜    (ìˆ˜ì§‘)      (ì €ì¥)    (ê²€ìƒ‰/ì¡°íšŒ)       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Grafanaì—ì„œ ë¡œê·¸ ê²€ìƒ‰:**
```
# ëª¨ë“  ì—ëŸ¬ ë¡œê·¸
{service="user-service"} |= "error"

# íŠ¹ì • ì‚¬ìš©ìì˜ ë¡œê·¸
{service="chat-service"} |= "user_id=123"

# ìµœê·¼ 5ë¶„ê°„ ë¡œê·¸
{service="friend-service"} | json | __timestamp__ > 5m ago
```

---

## 6.4 ì•Œë¦¼ (Alertmanager)

```yaml
# infrastructure/docker/prometheus/alert-rules.yml

groups:
  - name: service-alerts
    rules:
      # ì„œë¹„ìŠ¤ ë‹¤ìš´ ì•Œë¦¼
      - alert: ServiceDown
        expr: up == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "{{ $labels.instance }} ì„œë¹„ìŠ¤ê°€ ë‹¤ìš´ë˜ì—ˆìŠµë‹ˆë‹¤"

      # ë†’ì€ ì—ëŸ¬ìœ¨ ì•Œë¦¼
      - alert: HighErrorRate
        expr: sum(rate(http_requests_total{status=~"5.."}[5m])) / sum(rate(http_requests_total[5m])) > 0.05
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "ì—ëŸ¬ìœ¨ì´ 5%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤"
```

> ğŸ“š **ë” ìì„¸í•œ ëª¨ë‹ˆí„°ë§ ì„¤ëª…**: [Prometheus ì„¤ì •](./observability/prometheus-setup.md), [Grafana ëŒ€ì‹œë³´ë“œ](./observability/grafana-dashboards.md)

---

## 6.5 Part 6 í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Metrics, Logs, Tracesì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Prometheusê°€ ë©”íŠ¸ë¦­ì„ ì–´ë–»ê²Œ ìˆ˜ì§‘í•˜ëŠ”ì§€ ì•Œì•˜ë‹¤
- [ ] Grafana ëŒ€ì‹œë³´ë“œì— ì ‘ì†í•´ë´¤ë‹¤
- [ ] Counter vs Gaugeì˜ ì°¨ì´ë¥¼ ì´í•´í–ˆë‹¤
- [ ] ê¸°ë³¸ PromQL ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤

> **Spring Bootì—ì„œëŠ”?**
> - Spring Boot Actuator + Micrometerë¡œ ë©”íŠ¸ë¦­ ë…¸ì¶œ
> - Prometheus, Grafana, LokiëŠ” ë™ì¼í•˜ê²Œ ì‚¬ìš©
> - ëª¨ë‹ˆí„°ë§ ì§€ì‹ì€ ì–¸ì–´ì™€ ë¬´ê´€í•˜ê²Œ 100% ì¬ì‚¬ìš© ê°€ëŠ¥

---

# Part 7: í…ŒìŠ¤íŠ¸ ë° CI/CD (Day 36-42)

## 7.1 í…ŒìŠ¤íŠ¸ ì „ëµ

### í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

```
                    â–²
                   /â”‚\        E2E í…ŒìŠ¤íŠ¸ (ëŠë¦¼, ë¹„ìš© ë†’ìŒ)
                  / â”‚ \       ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
                 /  â”‚  \
                /â”€â”€â”€â”¼â”€â”€â”€\     Integration í…ŒìŠ¤íŠ¸ (ì¤‘ê°„)
               /    â”‚    \    ì„œë¹„ìŠ¤ + DB ì—°ë™ í…ŒìŠ¤íŠ¸
              /     â”‚     \
             /â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€\  Unit í…ŒìŠ¤íŠ¸ (ë¹ ë¦„, ë¹„ìš© ë‚®ìŒ)
            /       â”‚       \ í•¨ìˆ˜/í´ë˜ìŠ¤ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### ì´ í”„ë¡œì íŠ¸ì˜ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```
tests/
â”œâ”€â”€ unit/                    # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (DB ì—†ì´)
â”‚   â”œâ”€â”€ test_auth.py        # JWT ìƒì„±/ê²€ì¦ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ test_validators.py  # ì…ë ¥ ê²€ì¦ í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ integration/            # í†µí•© í…ŒìŠ¤íŠ¸ (DB í¬í•¨)
â”‚   â””â”€â”€ test_full_flow.py   # íšŒì›ê°€ì…â†’ë¡œê·¸ì¸â†’ì±„íŒ… íë¦„
â”‚
â””â”€â”€ e2e/                    # E2E í…ŒìŠ¤íŠ¸ (ì „ì²´ ì„œë¹„ìŠ¤)
    â”œâ”€â”€ conftest.py         # ê³µí†µ ì„¤ì •
    â”œâ”€â”€ test_user_service.py
    â”œâ”€â”€ test_friend_service.py
    â””â”€â”€ test_chat_service.py
```

---

## 7.2 E2E í…ŒìŠ¤íŠ¸ ì‹¤ìŠµ

### í…ŒìŠ¤íŠ¸ í™˜ê²½ ì‹¤í–‰

```bash
# í…ŒìŠ¤íŠ¸ ì „ìš© í™˜ê²½ ì‹¤í–‰ (ë³„ë„ í¬íŠ¸ ì‚¬ìš©)
docker-compose -f docker-compose.test.yml up -d

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
cd tests/e2e
pip install -r requirements.txt
pytest -v --html=report.html
```

### í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ

```python
# tests/e2e/test_user_service.py

import pytest
import httpx

class TestUserService:
    """User Service E2E í…ŒìŠ¤íŠ¸"""

    def test_health_check(self, http_client):
        """í—¬ìŠ¤ ì²´í¬ í…ŒìŠ¤íŠ¸"""
        response = http_client.get("/health")
        assert response.status_code == 200
        assert response.json()["status"] == "healthy"

    def test_register_success(self, http_client):
        """íšŒì›ê°€ì… ì„±ê³µ í…ŒìŠ¤íŠ¸"""
        response = http_client.post("/auth/register", json={
            "email": "test@example.com",
            "username": "testuser",
            "password": "Test1234!@",
            "display_name": "í…ŒìŠ¤íŠ¸"
        })
        assert response.status_code == 201
        assert "id" in response.json()

    def test_login_success(self, http_client, registered_user):
        """ë¡œê·¸ì¸ ì„±ê³µ í…ŒìŠ¤íŠ¸"""
        response = http_client.post("/auth/login/json", json={
            "email": registered_user["email"],
            "password": "Test1234!@"
        })
        assert response.status_code == 200
        assert "access_token" in response.json()
```

---

## 7.3 GitHub Actions CI/CD

### CI íŒŒì´í”„ë¼ì¸ (.github/workflows/ci.yml)

```yaml
name: CI

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  # 1. ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run Ruff (Linter)
        run: ruff check .

  # 2. ì„œë¹„ìŠ¤ë³„ í…ŒìŠ¤íŠ¸
  test-user-service:
    runs-on: ubuntu-latest
    services:
      mysql:
        image: mysql:8.0
        env:
          MYSQL_ROOT_PASSWORD: testpass
    steps:
      - uses: actions/checkout@v4
      - name: Run tests
        run: pytest services/user-service/tests/

  # 3. Docker ì´ë¯¸ì§€ ë¹Œë“œ
  build:
    needs: [lint, test-user-service]
    runs-on: ubuntu-latest
    steps:
      - name: Build Docker image
        run: docker build -t bigtech-user-service .

  # 4. E2E í…ŒìŠ¤íŠ¸ (main ë¸Œëœì¹˜ë§Œ)
  e2e-tests:
    needs: [build]
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    steps:
      - name: Run E2E tests
        run: pytest tests/e2e/
```

### CI/CD íë¦„

```
ê°œë°œìê°€ ì½”ë“œ Push
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Actions                           â”‚
â”‚                                                             â”‚
â”‚  1. Lint (ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬)                                  â”‚
â”‚        â”‚                                                    â”‚
â”‚        â–¼                                                    â”‚
â”‚  2. Unit Test (ì„œë¹„ìŠ¤ë³„)                                    â”‚
â”‚        â”‚                                                    â”‚
â”‚        â–¼                                                    â”‚
â”‚  3. Docker Build (ì´ë¯¸ì§€ ìƒì„±)                              â”‚
â”‚        â”‚                                                    â”‚
â”‚        â–¼                                                    â”‚
â”‚  4. E2E Test (main ë¸Œëœì¹˜ë§Œ)                                â”‚
â”‚        â”‚                                                    â”‚
â”‚        â–¼                                                    â”‚
â”‚  5. Push to Registry (ì´ë¯¸ì§€ ì €ì¥ì†Œ)                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
   ë°°í¬ ê°€ëŠ¥!
```

---

## 7.4 Part 7 í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Unit / Integration / E2E í…ŒìŠ¤íŠ¸ì˜ ì°¨ì´ë¥¼ ì•Œì•˜ë‹¤
- [ ] pytestë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ë´¤ë‹¤
- [ ] E2E í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì½ê³  ì´í•´í•  ìˆ˜ ìˆë‹¤
- [ ] GitHub Actions CI íŒŒì´í”„ë¼ì¸ì„ ì´í•´í–ˆë‹¤
- [ ] PRì„ ì˜¬ë¦¬ë©´ ì–´ë–¤ ê²€ì‚¬ê°€ ì‹¤í–‰ë˜ëŠ”ì§€ ì•Œì•˜ë‹¤

> **Spring Bootì—ì„œëŠ”?**
> - JUnit 5 + MockMvcë¡œ í…ŒìŠ¤íŠ¸
> - Testcontainersë¡œ DB í†µí•© í…ŒìŠ¤íŠ¸
> - GitHub Actions êµ¬ì¡°ëŠ” ë™ì¼!

---

# Part 8: Spring Boot ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤€ë¹„ (Day 43-49)

## 8.1 FastAPI vs Spring Boot ë¹„êµ

### ì½”ë“œ êµ¬ì¡° ë¹„êµ

**FastAPI (Python):**
```python
# main.py
from fastapi import FastAPI, Depends
app = FastAPI()

@app.get("/users/{user_id}")
async def get_user(user_id: int, db = Depends(get_db)):
    return await db.get(User, user_id)
```

**Spring Boot (Kotlin):**
```kotlin
// UserController.kt
@RestController
@RequestMapping("/users")
class UserController(private val userService: UserService) {

    @GetMapping("/{userId}")
    fun getUser(@PathVariable userId: Long): User {
        return userService.findById(userId)
    }
}
```

### í•µì‹¬ ê°œë… ë§¤í•‘

| FastAPI | Spring Boot | ì„¤ëª… |
|---------|-------------|------|
| `@app.get()` | `@GetMapping` | HTTP GET ì—”ë“œí¬ì¸íŠ¸ |
| `@app.post()` | `@PostMapping` | HTTP POST ì—”ë“œí¬ì¸íŠ¸ |
| `Depends()` | `@Autowired` / ìƒì„±ì ì£¼ì… | ì˜ì¡´ì„± ì£¼ì… |
| `Pydantic BaseModel` | DTO + `@Valid` | ë°ì´í„° ê²€ì¦ |
| `async/await` | `suspend` (ì½”ë£¨í‹´) | ë¹„ë™ê¸° ì²˜ë¦¬ |
| `SQLAlchemy` | Spring Data JPA | ORM |
| `Beanie` | Spring Data MongoDB | MongoDB ODM |

### ì–¸ì–´ì™€ ë¬´ê´€í•œ ê²ƒë“¤ (100% ì¬ì‚¬ìš© ê°€ëŠ¥)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì´ í”„ë¡œì íŠ¸ì—ì„œ ë°°ìš´ ê²ƒ ì¤‘                       â”‚
â”‚              Spring Bootì—ì„œë„ ê·¸ëŒ€ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ê²ƒ           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… DDD (Bounded Context, Aggregate)                         â”‚
â”‚ âœ… MSA ì•„í‚¤í…ì²˜ íŒ¨í„´                                         â”‚
â”‚ âœ… Kafka (Topic ì„¤ê³„, Producer/Consumer)                    â”‚
â”‚ âœ… Kubernetes (Deployment, HPA, Ingress)                    â”‚
â”‚ âœ… Docker (Dockerfile, ì´ë¯¸ì§€ ìµœì í™”)                        â”‚
â”‚ âœ… Prometheus + Grafana (ë©”íŠ¸ë¦­, ëŒ€ì‹œë³´ë“œ)                   â”‚
â”‚ âœ… CI/CD (GitHub Actions)                                   â”‚
â”‚ âœ… API ì„¤ê³„ (REST, ì—ëŸ¬ ì²˜ë¦¬)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8.2 Spring Boot í•™ìŠµ ë¡œë“œë§µ

### 1ë‹¨ê³„: Java/Kotlin ê¸°ì´ˆ (1-2ì£¼)
- Kotlin ë¬¸ë²• (Javaë³´ë‹¤ ê°„ê²°)
- ë„ ì•ˆì „ì„±, ë°ì´í„° í´ë˜ìŠ¤
- ì½”ë£¨í‹´ ê¸°ì´ˆ

### 2ë‹¨ê³„: Spring Framework í•µì‹¬ (2-3ì£¼)
- IoC Container, DI
- `@Component`, `@Service`, `@Repository`
- `@RestController`, `@RequestMapping`

### 3ë‹¨ê³„: Spring Boot ì‹¤ë¬´ (2-3ì£¼)
- Spring Boot Starter
- application.yml ì„¤ì •
- Spring Data JPA
- Spring Kafka

### ì¶”ì²œ í•™ìŠµ ìë£Œ
- ğŸ“š [Spring Boot ê³µì‹ ê°€ì´ë“œ](https://spring.io/guides)
- ğŸ“º [ì¸í”„ëŸ° - ìŠ¤í”„ë§ ì…ë¬¸](https://www.inflearn.com/course/ìŠ¤í”„ë§-ì…ë¬¸-ìŠ¤í”„ë§ë¶€íŠ¸)
- ğŸ“– ã€ŒìŠ¤í”„ë§ ë¶€íŠ¸ì™€ AWSë¡œ í˜¼ì êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ã€

---

## 8.3 ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

### ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ (Strangler Fig Pattern)

```
Phase 1: User Serviceë§Œ Spring Bootë¡œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Kong API Gateway                         â”‚
â”‚                           â”‚                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚     â”‚                     â”‚                     â”‚          â”‚
â”‚     â–¼                     â–¼                     â–¼          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚ â”‚  User   â”‚        â”‚  Chat   â”‚          â”‚ Friend  â”‚       â”‚
â”‚ â”‚ Service â”‚        â”‚ Service â”‚          â”‚ Service â”‚       â”‚
â”‚ â”‚(Spring) â”‚        â”‚(FastAPI)â”‚          â”‚(FastAPI)â”‚       â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚   ğŸ†• ìƒˆë¡œ                ê¸°ì¡´                ê¸°ì¡´           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†’ User Serviceë¥¼ Spring Bootë¡œ ìƒˆë¡œ ë§Œë“¤ê³ 
â†’ Kongì—ì„œ ë¼ìš°íŒ…ë§Œ ë³€ê²½
â†’ ë‚˜ë¨¸ì§€ ì„œë¹„ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ë™ì‘
â†’ ë¬¸ì œ ì—†ìœ¼ë©´ ë‹¤ìŒ ì„œë¹„ìŠ¤ ì „í™˜
```

### ì™œ User Serviceë¶€í„°?
1. ê°€ì¥ ë‹¨ìˆœí•¨ (MySQLë§Œ ì‚¬ìš©)
2. ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ì˜ì¡´ ì ìŒ
3. ì‹¤íŒ¨í•´ë„ ì˜í–¥ ë²”ìœ„ ì œí•œì 

---

## 8.4 Part 8 í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] FastAPIì™€ Spring Bootì˜ ì½”ë“œ êµ¬ì¡° ì°¨ì´ë¥¼ ì´í•´í–ˆë‹¤
- [ ] ì´ í”„ë¡œì íŠ¸ì˜ ì–´ë–¤ ì§€ì‹ì´ Spring Bootì—ì„œë„ ì“¸ ìˆ˜ ìˆëŠ”ì§€ ì•Œì•˜ë‹¤
- [ ] Strangler Fig Patternì„ ì´í•´í–ˆë‹¤
- [ ] Spring Boot í•™ìŠµ ë¡œë“œë§µì„ ì„¸ì› ë‹¤

> ğŸ“š **ë” ìì„¸í•œ ë¹„êµ**: [FastAPI vs Spring Boot ë¬¸ì„œ](./spring-boot/fastapi-vs-springboot.md)

---

# Part 9: ì‹¤ìŠµ ê³¼ì œ ë° ë¶€ë¡

## 9.1 ì£¼ì°¨ë³„ ì‹¤ìŠµ ê³¼ì œ

### Week 1: í™˜ê²½ êµ¬ì„± ë° API íƒìƒ‰
- [ ] ì „ì²´ ìŠ¤íƒ ì‹¤í–‰ (`docker-compose.msa.yml`)
- [ ] 3ê°œ ì„œë¹„ìŠ¤ Swagger UIì—ì„œ ëª¨ë“  API í…ŒìŠ¤íŠ¸
- [ ] Grafana ëŒ€ì‹œë³´ë“œ ì‚´í´ë³´ê¸°
- [ ] Kafka UIì—ì„œ ì´ë²¤íŠ¸ í™•ì¸

### Week 2: ì½”ë“œ ìˆ˜ì • ì‹¤ìŠµ
- [ ] User Serviceì— ìƒˆ API ì¶”ê°€ (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸ ë³€ê²½)
- [ ] Pydantic ìŠ¤í‚¤ë§ˆ ì‘ì„±
- [ ] PR ìƒì„±í•˜ê³  CI í†µê³¼ í™•ì¸

### Week 3: Kafka ì´ë²¤íŠ¸ ì¶”ê°€
- [ ] ìƒˆë¡œìš´ Domain Event ì •ì˜
- [ ] Producerë¡œ ì´ë²¤íŠ¸ ë°œí–‰
- [ ] Kafka UIì—ì„œ ì´ë²¤íŠ¸ í™•ì¸

### Week 4: ëª¨ë‹ˆí„°ë§ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- [ ] ìƒˆë¡œìš´ ë©”íŠ¸ë¦­ ì¶”ê°€
- [ ] Grafana íŒ¨ë„ ì¶”ê°€
- [ ] Alert Rule ì‘ì„±

---

## 9.2 ìš©ì–´ì§‘ (Glossary)

| ìš©ì–´ | ì„¤ëª… |
|------|------|
| **Aggregate** | DDDì—ì„œ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ” ê°ì²´ ë¬¶ìŒì˜ ë‹¨ìœ„ |
| **Bounded Context** | DDDì—ì„œ ë„ë©”ì¸ì˜ ê²½ê³„ë¥¼ ì •ì˜í•˜ëŠ” ê°œë… |
| **Consumer Group** | Kafkaì—ì„œ ê°™ì€ ëª©ì ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” Consumerë“¤ì˜ ê·¸ë£¹ |
| **Consumer Lag** | Kafkaì—ì„œ ì•„ì§ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ë©”ì‹œì§€ì˜ ìˆ˜ |
| **Deployment** | K8sì—ì„œ Podì˜ ë°°í¬ì™€ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” ë¦¬ì†ŒìŠ¤ |
| **Domain Event** | ë¹„ì¦ˆë‹ˆìŠ¤ì—ì„œ ì˜ë¯¸ ìˆëŠ” ì‚¬ê±´ì„ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ |
| **HPA** | Horizontal Pod Autoscaler, CPU/ë©”ëª¨ë¦¬ ê¸°ë°˜ ìë™ ìŠ¤ì¼€ì¼ë§ |
| **Ingress** | K8sì—ì„œ ì™¸ë¶€ íŠ¸ë˜í”½ì„ ë‚´ë¶€ ì„œë¹„ìŠ¤ë¡œ ë¼ìš°íŒ…í•˜ëŠ” ë¦¬ì†ŒìŠ¤ |
| **MSA** | Microservices Architecture, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ |
| **Partition** | Kafka Topicì˜ ë³‘ë ¬ ì²˜ë¦¬ ë‹¨ìœ„ |
| **Pod** | K8sì—ì„œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ì˜ ìµœì†Œ ë‹¨ìœ„ |
| **Producer** | Kafkaì—ì„œ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ëŠ” ì£¼ì²´ |
| **PromQL** | Prometheus Query Language, ë©”íŠ¸ë¦­ ì¡°íšŒ ì–¸ì–´ |
| **Scrape** | Prometheusê°€ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ëŠ” í–‰ìœ„ |
| **StatefulSet** | K8sì—ì„œ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ìš© ë¦¬ì†ŒìŠ¤ (DB ë“±) |
| **Topic** | Kafkaì—ì„œ ë©”ì‹œì§€ë¥¼ ë¶„ë¥˜í•˜ëŠ” ë‹¨ìœ„ |

---

## 9.3 ëª…ë ¹ì–´ ì¹˜íŠ¸ì‹œíŠ¸

### Docker
```bash
# ì „ì²´ ìŠ¤íƒ ì‹¤í–‰
docker-compose -f docker-compose.msa.yml up -d

# ë¡œê·¸ í™•ì¸
docker logs -f bigtech-user-service

# ì»¨í…Œì´ë„ˆ ì ‘ì†
docker exec -it bigtech-user-service bash

# ì •ë¦¬
docker-compose -f docker-compose.msa.yml down -v
```

### Kubernetes
```bash
# ë¦¬ì†ŒìŠ¤ í™•ì¸
kubectl get all -n bigtech-chat
kubectl get pods -n bigtech-chat

# ë¡œê·¸ í™•ì¸
kubectl logs -f deployment/user-service -n bigtech-chat

# Pod ì ‘ì†
kubectl exec -it <pod-name> -n bigtech-chat -- bash

# ë°°í¬
kubectl apply -f k8s/manifests/
```

### í…ŒìŠ¤íŠ¸
```bash
# E2E í…ŒìŠ¤íŠ¸
pytest tests/e2e/ -v

# ì»¤ë²„ë¦¬ì§€
pytest --cov=app tests/

# HTML ë¦¬í¬íŠ¸
pytest --html=report.html
```

---

## 9.4 ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

**Q: ì™œ DBë¥¼ 3ê°œë‚˜ ì‚¬ìš©í•˜ë‚˜ìš”?**
> MySQLì€ ê´€ê³„í˜• ë°ì´í„°(ì‚¬ìš©ì, ì¹œêµ¬), MongoDBëŠ” ëŒ€ìš©ëŸ‰ ë¬¸ì„œ(ë©”ì‹œì§€), RedisëŠ” ìºì‹œì™€ ì‹¤ì‹œê°„ ìƒíƒœì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê° DBì˜ ì¥ì ì„ ì‚´ë¦° ê²ƒì…ë‹ˆë‹¤.

**Q: Kafka ì—†ì´ REST APIë¡œë§Œ í†µì‹ í•˜ë©´ ì•ˆ ë˜ë‚˜ìš”?**
> ê°€ëŠ¥í•˜ì§€ë§Œ, ì„œë¹„ìŠ¤ ê°„ ê²°í•©ë„ê°€ ë†’ì•„ì§€ê³  ì¥ì•  ì „íŒŒ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. Kafkaë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë¹„ìŠ¤ê°€ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•˜ê³ , ì¬ì‹œë„/ë³µêµ¬ê°€ ìš©ì´í•©ë‹ˆë‹¤.

**Q: ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ Spring Bootë¡œ ë°”ê¿”ì•¼ í•˜ë‚˜ìš”?**
> ì•„ë‹™ë‹ˆë‹¤. í•„ìš”ì— ë”°ë¼ ì¼ë¶€ë§Œ ì „í™˜í•´ë„ ë©ë‹ˆë‹¤. ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ë§Œ ì „í™˜í•˜ê±°ë‚˜, íŒ€ ì—­ëŸ‰ì— ë§ê²Œ ì ì§„ì ìœ¼ë¡œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**Q: ì´ í”„ë¡œì íŠ¸ë¥¼ í¬íŠ¸í´ë¦¬ì˜¤ì— ì–´ë–»ê²Œ ì„¤ëª…í•˜ë©´ ì¢‹ì„ê¹Œìš”?**
> "FastAPI ê¸°ë°˜ ì‹¤ì‹œê°„ ì±„íŒ… ë°±ì—”ë“œë¥¼ MSAë¡œ ì „í™˜í•˜ê³ , Kafka ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°, K8s ë°°í¬, Prometheus ëª¨ë‹ˆí„°ë§ì„ êµ¬ì¶•í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤."

---

## 9.5 ì¶”ê°€ í•™ìŠµ ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [FastAPI ê³µì‹ ë¬¸ì„œ](https://fastapi.tiangolo.com/)
- [Kafka ê³µì‹ ë¬¸ì„œ](https://kafka.apache.org/documentation/)
- [Kubernetes ê³µì‹ ë¬¸ì„œ](https://kubernetes.io/docs/)
- [Prometheus ê³µì‹ ë¬¸ì„œ](https://prometheus.io/docs/)

### ì¶”ì²œ ë„ì„œ
- ã€Œë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ í•µì‹¬ã€ - ë°˜ ë²„ë…¼
- ã€Œë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ íŒ¨í„´ã€ - í¬ë¦¬ìŠ¤ ë¦¬ì²˜ë“œìŠ¨
- ã€Œì¿ ë²„ë„¤í‹°ìŠ¤ ì¸ ì•¡ì…˜ã€ - ë§ˆë¥´ì½” ë£©ìƒ¤

---

**ë¬¸ì„œ ë²„ì „**: v1.0
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-01-27
**ì‘ì„±ì**: Claude Code

---

> ì´ ë¬¸ì„œì— ëŒ€í•œ í”¼ë“œë°±ì´ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ GitHub Issuesì— ë“±ë¡í•´ì£¼ì„¸ìš”.
